<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<title>Seashell Location Project</title>

<style>
body {
  margin:0;
  font-family: sans-serif;
  background: url("https://images.unsplash.com/photo-1507525428034-b723cf961d3e")
              no-repeat center center fixed;
  background-size: cover;
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  color:white;
}

.overlay {
  background: rgba(0,0,0,0.55);
  position:absolute;
  top:0; left:0;
  width:100%; height:100%;
}

.card {
  position:relative;
  background: rgba(255,255,255,0.15);
  backdrop-filter: blur(8px);
  border-radius:20px;
  padding:30px;
  text-align:center;
  width:90%;
  max-width:420px;
  box-shadow:0 0 25px rgba(0,0,0,0.4);
}

#content {
  display:none;
  margin-top:15px;
}

#message {
  margin-top:15px;
  font-size:15px;
}
</style>
</head>

<body>
<div class="overlay"></div>

<div class="card">
  <h2>ğŸš Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯</h2>

  <p>
  Ø¨Ø§ ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ Ù…ÙˆÙ‚Ø¹ÛŒØªØŒ Ù…Ø®ØªØµØ§Øª Ø´Ù…Ø§ Ø¨Ø±Ø§ÛŒ Ø«Ø¨Øª Ø¯Ø± Ø§ÛŒÙ† Ù¾Ø±ÙˆÚ˜Ù‡ Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒâ€ŒØ´ÙˆØ¯.
  </p>

  <div id="message">Ø¯Ø± Ø­Ø§Ù„ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ù…ÙˆÙ‚Ø¹ÛŒØª...</div>

  <div id="content">
    <h3>ğŸŒŠ Ù…Ø­ØªÙˆØ§ÛŒ ÙˆÛŒÚ˜Ù‡ ÙØ¹Ø§Ù„ Ø´Ø¯</h3>
    <p>Ù…ÙˆÙ‚Ø¹ÛŒØª Ø´Ù…Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø«Ø¨Øª Ú¯Ø±Ø¯ÛŒØ¯ âœ…</p>
    <img src="https://images.unsplash.com/photo-1501785888041-af3ef285b470"
         style="width:100%;border-radius:15px;margin-top:10px;">
  </div>
</div>

<script>
function sendLocation(lat, lon) {

  // ğŸ”´ Ø§ÛŒÙ† Ø¯Ùˆ Ù…Ù‚Ø¯Ø§Ø± Ø±Ø§ Ø§Ø² Google Form Ø®ÙˆØ¯Øª Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† Ú©Ù†
  const FORM_ID = "FORM_ID";
  const ENTRY_ID = "ENTRY_ID";

  const formURL =
   "https://docs.google.com/forms/d/e/" + FORM_ID +
   "/formResponse?entry." + ENTRY_ID + "=" + lat + "," + lon;

  fetch(formURL, { mode: "no-cors" });
}

function requestLocation() {
  const msg = document.getElementById("message");
  const content = document.getElementById("content");

  if (!navigator.geolocation) {
    msg.innerHTML = "Ù…Ø±ÙˆØ±Ú¯Ø± Ø´Ù…Ø§ Ø§Ø² Ù…ÙˆÙ‚Ø¹ÛŒØª Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù†Ù…ÛŒâ€ŒÚ©Ù†Ø¯";
    return;
  }

  navigator.geolocation.getCurrentPosition(
    (pos) => {
      const lat = pos.coords.latitude.toFixed(6);
      const lon = pos.coords.longitude.toFixed(6);

      msg.innerHTML = "âœ… Ù…ÙˆÙ‚Ø¹ÛŒØª Ø¯Ø±ÛŒØ§ÙØª Ø´Ø¯<br>Lat: " + lat + "<br>Lon: " + lon;

      // Ø§Ø±Ø³Ø§Ù„ Ø¨Ù‡ Ú¯ÙˆÚ¯Ù„ ÙØ±Ù…
      sendLocation(lat, lon);

      content.style.display = "block";
    },
    () => {
      msg.innerHTML = "âŒ Ø¨Ø¯ÙˆÙ† Ø§Ø¬Ø§Ø²Ù‡ Ù…ÙˆÙ‚Ø¹ÛŒØªØŒ Ù†Ù…Ø§ÛŒØ´ Ù…Ø­ØªÙˆØ§ Ù…Ù…Ú©Ù† Ù†ÛŒØ³Øª";
    }
  );
}

// Ø§Ø¬Ø±Ø§ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø± Ø¨Ø¹Ø¯ Ø§Ø² Ù„ÙˆØ¯ ØµÙØ­Ù‡
window.onload = () => {
  setTimeout(requestLocation, 800);
};
</script>

</body>
</html>
